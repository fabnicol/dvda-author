Dependencies
============



1. Binary tools and linked libraries
-------------------------------------

Dependencies for the building process are the following libraries:

built-in libraries:
  - libc_utils, a general-purpose library used for security enhancement
  - libfixwav, a special library designed for repairing WAV headers.
  - libats2wav a DVD-Audio titleset extracter.

external libraries:
  - libFLAC, which itself depends on libogg.
    If libogg is installed, default configuration for FLAC is with Ogg support.
  - libsox, a general-purpose audio format converter
  - libiberty.a if --enable-libiberty-build is not used and if it is installed in a system path, and if
    there is no SoX bug (see file BUGS )

Building dvdauthor requests linking to libpng12, libxml2 (recent) and libz, as well as (lib)freetype, bison and flex.
Buildinf mpegtools requests version 6b of the libmpeg IJG library. See package for details; this library is
commonly provided by most *nix platforms.
Building lplex requests linking to libdvdread(-dev) and libFLAC++, using g++, which is provided by
the --enable-flac-build option. Lplex also requests a recent wxWidget installation (recommended build of
source code, version 2.9.5)

For menu authoring, add the following executables:

  - spumux and dvdauthor version 0.6.14, patched version,
  - mp2enc, jpeg2yuv, mpeg2dec and mplex from the mjpegtools
  - mogrify and convert from ImageMagick
  - lplex (for top menu soundtrack authoring) from the Sourceforge audioplex project (http://audioplex.sourceforge.net)
  - a52dec (for video top menu conversion into audio top menu)

A patched version of mkisofs is needed to create an ISO image file that is DVD-Audio compliant.
This patch is automatically generated on building with --enable-cdrtools-build at configure stage.
cdrecord or growisofs are advised for burning the ISO, though other tools can be used.

To generate the documentation, you will need help2man for the man page and man2html
for the html man page. If these applications are installed, the autotools building
system automatically creates them. Note that this package uses a special version of man2html, 
(http://github.com/hamano/man2html/) not the usual (and apparently broken) perl
package still available in the Savannah repository. See package man2html for details. 

This version will use either libiberty.a if already installed on your platform
or source code for a few GNU libc functions located in libiberty/ The list of functions
used depends on platforms. The GNU build system will give a priority to -liberty linking,
building GNU libc source code as a fallback option. Most often, libiberty.a can be found in a binutils-dev
package on most *nix platforms.

Building dependencies
---------------------

libc_utils.a, libfixwav.a and libats2wav.a will automatically build and link.
All above dependencies (executables and libraries) can be rebuilt and/or linked to
if the package is built with the autotools system on a POSIX platform, using

./configure 
the minimal set of requirements under a "bare" Linux 13.04 platforms seems to be :

  core build + fixwav: gcc, make
  
  with downloads enabled: add curl, patch and tar
  
  flac and ogg added with no extra linking provided that they are  downloaded 
  using the --enable-... command line options.
  
  lplex support : add: g++, wxWidgets (2.9.2+), libxml2, libz, libFLAC-dev,libFLAC++-dev, libogg-dev, libdvdread
  
  sox support: possible links to audio libraries installed on the system, libltl and libz. If the sox library is not available on
  your system, building sox will require the autotools: autoconf, automake, libtool(ize) as it is necessary to redesign an unsatisfactory
  configure.ac file (broken pkg-config design).
  
  menu authoring, dvdauthor : add: automake, autoconf, libtool(ize), bison, flex, libfreetype.
  

2. Building tools
------------------

A list of auxiliary tools, most often present on developers' platforms, is given at the end of the configure
script: these include building tools such as:

sed, patch, tar, autoconf, automake, m4, libtool, make, perl, gcc, g++ (the linker), curl and
ideally smake for building cdrecord. flex and bison are used by dvdauthor.

Other building tools may be needed for specific features, take care to check configuration output messages, make run messages
and ultimately the config.log file generated by the configure script.
It is advised to build and install wx-widgets version 2.9.2+ from source code prior to building dvda-author if you are to build lplex
in the process.
